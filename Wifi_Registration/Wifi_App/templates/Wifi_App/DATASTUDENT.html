{% extends 'Wifi_App/head2.html' %}
{% load static %}

{% block title %}DATA STUDENT{% endblock title %}

{% block content %}
<li>
  <a class="btn btn-block text-success" href="{% url 'datafaculty' %}">FACULTY {% if count == 0 %}<i class="fa-regular fa-circle-check"></i>
    {% else %}<span class="badge badge-danger">{{ count }}</span>{% endif %}</a>
</li>
<li>
  <a class="btn btn-block text-success" href="{% url 'datahistory' %}">HISTORY</a>
</li>
<div class="dropdown show">
   <a class="btn btn-outline-success dropdown-toggle" href="#" role="button" 
   id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
   <strong>{{ user.username }}</strong>
   </a>
   <div class="dropdown-menu dropdown-menu-right bg-light" aria-labelledby="dropdownMenuLink">
     <a class="dropdown-item text-primary" href="">download as <em><strong>PDF</strong></em></a>
     <a class="dropdown-item text-primary" href="">download as <em><strong>CSV</strong></em></a>
     <div class="dropdown-divider m-0"></div>
     <a class="dropdown-item text-danger" href="{% url 'logout' %}">LOGOUT</a>
   </div>
 </div>
{% endblock content %}

{% block body %}
          <div class="jumbotron table-responsive-sm table-sortable mt-3 rounded">
             <div class="card-body">
               <h4 class="card-title" style="margin-bottom: 50px;">WIFI REQUEST (STUDENT'S REQUEST)</h4>
             </div>
                <table id="studreq" class="table table-striped table-bordered">
                <thead class="table-danger">
                    <tr>
                       <th scope="col" style="text-align: center;">Name</th>
                       <th scope="col" style="text-align: center;">Course</th>
                       <th scope="col" style="text-align: center;">Semester</th>
                       <th scope="col" style="text-align: center;">TUPC-ID</th>
                       <th scope="col" style="text-align: center;">Or No.</th>
                       <th scope="col" style="text-align: center;">Phone No.</th>
                       <th scope="col" style="text-align: center;">System</th>
                       <th scope="col" style="text-align: center;">Others</th>
                       <th scope="col" style="text-align: center;">Mac Address</th>
                       <th scope="col" style="text-align: center;">Email</th>
                       <th scope="col" style="text-align: center;">Home Address</th>
                       <th scope="col" style="text-align: center;">Signature</th>
                       <th scope="col" style="text-align: center;">Approval</th>
                    </tr>
                 </thead>
                 <tbody>
                   {% for i in student_request %}
                   <tr>
                       <th scope="row" style="text-align: center;">{{ i.names }}</th>
                       <td style="text-align: center;">{{ i.course }}</td>
                       <td style="text-align: center;">{{ i.semester }}</td>
                       <td style="text-align: center;">{{ i.tupid }}</td>
                       <td style="text-align: center;">{{ i.orNum }}</td>
                       <td style="text-align: center;">0{{ i.phoneNum }}</td>
                       <td style="text-align: center;">{{ i.device }}</td>
                       <td style="text-align: center;">{{ i.otherDevice }}</td>
                       <td style="text-align: center;">{{ i.macadd }}</td>
                       <td style="text-align: center;">{{ i.email }}</td>
                       <td style="text-align: center;">{{ i.residAdd }}</td>
                       <td style="text-align: center;"><img class="rounded" src="{{ i.signature.url }}" width="150" height="100" alt="{{ i.signature }}"></td>
                       <td style="text-align: center;">
                         <span >
                             <a href="/acceptStudent/{{ i.email }}" class="btn btn-success mb-1" style="padding: 10px 24px;">Approve</a>
                         </span>
                         <span>
                             <a href="/rejectStudent/{{ i.email }}" class="btn btn-danger" style="padding: 10px 32px;">Reject</a>
                         </span>
                     </td>
                   </tr>
                   {% endfor %}
               </tbody>
             </table>
            </div>
          </div>
          <script>
             $(document).ready(function() {
                  $('#studreq').DataTable({
                        scrollY: 400,
                        scrollCollapse: true,
                        paging : false,
                  })})
          </script>
{% endblock body %}