{% extends 'Wifi_App/head2.html' %}
{% load static %}

{% block title %}DATA FACULTY{% endblock title %}
      
{% block content %}
<div class="dropdown show">
  <a class="btn btn-success dropdown-toggle" href="#" role="button" 
  id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    {{ user.username }}
  </a>
  <div class="dropdown-menu dropdown-menu-right bg-light" aria-labelledby="dropdownMenuLink">
    <a class="dropdown-item text-primary" href="{% url 'datastudent' %}">STUDENT</a>
    <a class="dropdown-item text-primary" href="{% url 'datahistory' %}">HISTORY</a>
    <div class="dropdown-divider m-0"></div>
    <a class="dropdown-item text-danger" href="{% url 'logout' %}">LOGOUT</a>
  </div>
</div>
{% endblock content %}

{% block body %}
          <div class="jumbotron table-responsive table-sortable mt-3 rounded">
             <div class="card-body">
               <h4 class="card-title" style="margin-bottom: 50px;">WIFI REQUEST (FACULTY'S REQUEST)</h4>
             </div>
               <table id="facreq" class="table table-striped table-bordered">
                <thead class="table-danger">
                   <tr>
                      <th scope="col" style="text-align: center;">Name</th>
                      <th scope="col" style="text-align: center;">Department</th>
                      <th scope="col" style="text-align: center;">Designation</th>
                      <th scope="col" style="text-align: center;">Mac Address</th>
                      <th scope="col" style="text-align: center;">System</th>
                      <th scope="col" style="text-align: center;">Others</th>
                      <th scope="col" style="text-align: center;">Email</th>
                      <th scope="col" style="text-align: center;">Phone No.</th>
                      <th scope="col" style="text-align: center;">Faculty Name</th>
                      <th scope="col" style="text-align: center;">Time</th>
                      <th scope="col" style="text-align: center;">Signature</th>
                      <th scope="col" style="text-align: center;">Approval</th>
                   </tr>
                </thead>
                <tbody>
                  {% for var in faculty_request %}
                  <tr>
                      <th scope="row" style="text-align: center;">{{ var.names }}</th>
                      <td style="text-align: center;">{{ var.department }}</td>
                      <td style="text-align: center;">{{ var.designation }}</td>
                      <td style="text-align: center;">{{ var.macadd }}</td>
                      <td style="text-align: center;">{{ var.device }}</td>
                      <td style="text-align: center;">{{ var.otherDevice }}</td>
                      <td style="text-align: center;">{{ var.email }}</td>
                      <td style="text-align: center;">{{ var.phoneNum }}</td>
                      <td style="text-align: center;">{{ var.facultyName }}</td>
                      <td style="text-align: center;">{{ var.dateCreated }}</td>
                      <td style="text-align: center;"><img class="rounded" src="{{ var.signature.url }}" width="150" height="100" alt="{{ var.signature }}"></td>
                      <td style="text-align: center;">
                        <span >
                            <a href="/acceptFaculty/{{ var.email }}" class="btn btn-success mb-1" style="padding: 10px 24px;">Approve</a>
                        </span>
                        <span>
                            <a href="/rejectFaculty/{{ var.email }}" class="btn btn-danger" style="padding: 10px 32px;">Reject</a>
                        </span>
                    </td>
                  </tr>
                  {% endfor %}
              </tbody>
             </table>
            </div>
          </div>
          <script>
            $(document).ready(function() {
                  $('#facreq').DataTable({
                      scrollY: 400,
                      scrollCollapse: true,
                      paging : false,
                  })})
          </script>
{% endblock body %}