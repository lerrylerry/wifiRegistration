{% extends 'Wifi_App/head2.html' %}
{% load static %}

{% block title %}DATA FACULTY{% endblock title %}
      
{% block content %}
<div class="dropdown show">
  {% if count != 0%}
  <a class="dropdown-toggle text-danger" href="#" role="button" id="dropdownMenuLink" 
  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  {% else %}
  <a class="dropdown-toggle text-success" href="#" role="button" id="dropdownMenuLink" 
  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
  {% endif %}
  {% if count != 0%}<i class="fa-solid fa-person-circle-exclamation"></i>{% else %}<i class="fa-solid fa-person-circle-check"></i>{% endif %}</a>
  <div class="dropdown-menu" id="drop" aria-labelledby="dropdownMenuLink">
    <a class="btn btn-block text-success" href="{% url 'datastudent' %}">STUDENT {% if count == 0 %}<i class="fa-regular fa-circle-check"></i>
    {% else %}<span class="badge badge-danger">{{ count }}</span>{% endif %}</a>
     <div class="dropdown-divider m-0"></div>
     <a class="btn btn-block text-success" href="{% url 'datahistory' %}">HISTORY</a>
  </div>
</div>

{% endblock content %}

{% block body %}
          <div class="jumbotron table-responsive table-sortable mt-3 rounded">
            <div class="card-body">
              <h4 class="card-title" style="margin-bottom: 50px;">WIFI REQUEST (FACULTY'S REQUEST)</h4>
            </div>
               <table id="facreq" class="table table-striped table-bordered">
                <thead class="table-danger">
                   <tr>
                      <th scope="col" style="text-align: center;">Name</th>
                      <th scope="col" style="text-align: center;">Department</th>
                      <th scope="col" style="text-align: center;">Designation</th>
                      <th scope="col" style="text-align: center;">Mac Address</th>
                      <th scope="col" style="text-align: center;">System</th>
                      <th scope="col" style="text-align: center;">Others</th>
                      <th scope="col" style="text-align: center;">Email</th>
                      <th scope="col" style="text-align: center;">Phone No.</th>
                      <th scope="col" style="text-align: center;">Faculty Name</th>
                      <th scope="col" style="text-align: center;">Time</th>
                      <th scope="col" style="text-align: center;">Signature</th>
                      <th scope="col" style="text-align: center;">Approval</th>
                   </tr>
                </thead>
                <tbody>
                  {% for var in faculty_request %}
                  <tr>
                      <th scope="row" style="text-align: center;">{{ var.names }}</th>
                      <td style="text-align: center;">{{ var.department }}</td>
                      <td style="text-align: center;">{{ var.designation }}</td>
                      <td style="text-align: center;">{{ var.macadd }}</td>
                      <td style="text-align: center;">{{ var.device }}</td>
                      <td style="text-align: center;">{{ var.otherDevice }}</td>
                      <td style="text-align: center;">{{ var.email }}</td>
                      <td style="text-align: center;">0{{ var.phoneNum }}</td>
                      <td style="text-align: center;">{{ var.facultyName }}</td>
                      <td style="text-align: center;">{{ var.dateCreated }}</td>
                      <td style="text-align: center;"><img class="rounded" src="{{ var.signature.url }}" width="150" height="100" alt="{{ var.signature }}"></td>
                      <td style="text-align: center;">
                        <span >
                            <a data-toggle="modal" data-target="#myModal" class="btn btn-success mb-1" style="padding: 10px 24px;">Approve</a>
                        </span>
                        <span>
                            <a data-toggle="modal" data-target="#myModal2" class="btn btn-danger" style="padding: 10px 32px;">Reject</a>
                        </span>
                    </td>
                  </tr>
                  <!-- The Modal -->
    <div class="modal fade" id="myModal">
      <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
      
              <!-- Modal Header -->
              <div class="modal-header">
                  <h5 class="modal-title text-danger">CONFIRMATION : <em>"accept"</em></h5>
                  <button type="button" class="close" data-dismiss="modal"><i class="fa-solid fa-arrow-right-from-bracket" id="back"></i></button>
              </div>
              
              <!-- Modal footer -->
              <div class="modal-footer d-flex justify-content-left">
                <a href="/acceptFaculty/{{ var.email }}" class="btn btn-success">YES</a>
                  <button type="button" class="btn text-muted" data-dismiss="modal">NO</button>
              </div>
          </div>
      </div>
  </div>

                <!-- The Modal -->
    <div class="modal fade" id="myModal2">
      <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
      
              <!-- Modal Header -->
              <div class="modal-header">
                  <h5 class="modal-title text-danger">CONFIRMATION : <em>"reject"</em></h5>
                  <button type="button" class="close" data-dismiss="modal"><i class="fa-solid fa-arrow-right-from-bracket" id="back"></i></button>
              </div>
              
              <!-- Modal footer -->
              <div class="modal-footer d-flex justify-content-left">
                <a href="/rejectFaculty/{{ var.email }}" class="btn btn-success">YES</a>
                  <button type="button" class="btn text-muted" data-dismiss="modal">NO</button>
              </div>
          </div>
      </div>
  </div>
                  {% endfor %}
              </tbody>
             </table>
          </div>
        </div>
          
          <script>
            $(document).ready(function() {
                  $('#facreq').DataTable({
                      scrolly : 400,
                      scrollCollapse: true,
                      paging : false,
                  })})
          </script>
{% endblock body %}